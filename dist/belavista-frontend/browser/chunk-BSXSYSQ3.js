import{a as me,b as se,c as ce,d as de,e as pe,f as ue,g as B,h as ge,i as be,j as he,k as ve}from"./chunk-6SUKCJ6W.js";import{Aa as A,Ba as re,Ca as $,Da as ne,Ea as ae,Fa as ie,Ga as le,_a as fe,i as S,k as b,ka as Z,m as F,ma as ee,n as E,p as H,pa as te,q as k,qa as D,r as I,ra as oe,t as N,u as T,va as L,wa as G,ya as R,za as V}from"./chunk-BBGXKPLL.js";import{$b as W,Ab as j,Bb as Y,Db as q,Fc as Q,Gb as g,Gc as w,Ib as f,Ic as X,Lc as y,Rb as U,Sb as a,Tb as h,Ua as m,Ub as C,Va as z,_b as P,ac as J,da as p,dc as K,ha as O,kb as u,pa as v,pb as c,qa as _,xb as r,yb as e,zb as d}from"./chunk-PG2OAIYH.js";function Se(i,t){if(i&1&&(r(0,"mat-error"),a(1),e()),i&2){let o=f();m(),C(" ",o.getErrorMessage("nome")," ")}}function Fe(i,t){if(i&1&&(r(0,"mat-error"),a(1),e()),i&2){let o=f();m(),C(" ",o.getErrorMessage("documento")," ")}}function Ee(i,t){if(i&1&&(r(0,"mat-error"),a(1),e()),i&2){let o=f();m(),C(" ",o.getErrorMessage("telefone")," ")}}var M=class i{constructor(t){this.data=t;this.isEdit=!!t?.hospede,this.hospedeForm=this.fb.group({nome:[t?.hospede?.nome||"",[b.required,b.minLength(2)]],documento:[t?.hospede?.documento||"",[b.required,b.minLength(3)]],telefone:[t?.hospede?.telefone||"",[b.required,b.minLength(8)]]})}fb=p(N);dialogRef=p(me);hospedeForm;isEdit=!1;onCancel(){this.dialogRef.close()}onSave(){if(this.hospedeForm.valid){let t=this.hospedeForm.value,o={nome:t.nome,documento:t.documento,telefone:t.telefone};this.isEdit&&this.data.hospede&&(o.id=this.data.hospede.id),this.dialogRef.close(o)}else this.hospedeForm.markAllAsTouched()}getErrorMessage(t){let o=this.hospedeForm.get(t);if(o?.hasError("required"))switch(t){case"nome":return"Nome \xE9 obrigat\xF3rio";case"documento":return"Documento \xE9 obrigat\xF3rio";case"telefone":return"Telefone \xE9 obrigat\xF3rio";default:return`${t.charAt(0).toUpperCase()+t.slice(1)} \xE9 obrigat\xF3rio`}if(o?.hasError("minlength")){let n=o.errors?.minlength?.requiredLength;switch(t){case"nome":return`Nome deve ter pelo menos ${n} caracteres`;case"documento":return`Documento deve ter pelo menos ${n} caracteres`;case"telefone":return`Telefone deve ter pelo menos ${n} caracteres`;default:return`${t.charAt(0).toUpperCase()+t.slice(1)} deve ter pelo menos ${n} caracteres`}}return""}static \u0275fac=function(o){return new(o||i)(z(se))};static \u0275cmp=O({type:i,selectors:[["app-hospede-form"]],standalone:!0,features:[P],decls:25,vars:7,consts:[["mat-dialog-title",""],[3,"ngSubmit","formGroup"],[1,"form-container"],["appearance","outline",1,"full-width"],["matInput","","formControlName","nome"],[4,"ngIf"],["matInput","","formControlName","documento"],["matInput","","formControlName","telefone"],["align","end"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(o,n){if(o&1&&(r(0,"h2",0),a(1),e(),r(2,"form",1),g("ngSubmit",function(){return n.onSave()}),r(3,"mat-dialog-content")(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),a(7,"Nome"),e(),d(8,"input",4),u(9,Se,2,1,"mat-error",5),e(),r(10,"mat-form-field",3)(11,"mat-label"),a(12,"Doc. (RG, CPF, Passport, CNH)"),e(),d(13,"input",6),u(14,Fe,2,1,"mat-error",5),e(),r(15,"mat-form-field",3)(16,"mat-label"),a(17,"Telefone"),e(),d(18,"input",7),u(19,Ee,2,1,"mat-error",5),e()()(),r(20,"mat-dialog-actions",8)(21,"button",9),g("click",function(){return n.onCancel()}),a(22,"Cancelar"),e(),r(23,"button",10),a(24),e()()()),o&2){let l,s,x;m(),h(n.isEdit?"Editar H\xF3spede":"Novo H\xF3spede"),m(),c("formGroup",n.hospedeForm),m(7),c("ngIf",((l=n.hospedeForm.get("nome"))==null?null:l.invalid)&&((l=n.hospedeForm.get("nome"))==null?null:l.touched)),m(5),c("ngIf",((s=n.hospedeForm.get("documento"))==null?null:s.invalid)&&((s=n.hospedeForm.get("documento"))==null?null:s.touched)),m(5),c("ngIf",((x=n.hospedeForm.get("telefone"))==null?null:x.invalid)&&((x=n.hospedeForm.get("telefone"))==null?null:x.touched)),m(4),c("disabled",n.hospedeForm.invalid),m(),C(" ",n.isEdit?"Salvar":"Criar"," ")}},dependencies:[y,w,T,H,S,F,E,k,I,G,L,D,oe,V,R,$,A,B,de,ue,pe],styles:["[_nghost-%COMP%]     .mat-mdc-dialog-container{background-color:var(--color-surface)!important;color:var(--color-text-primary)!important}[_nghost-%COMP%]     .mat-mdc-dialog-surface{background-color:var(--color-surface)!important}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--spacing-md);min-width:550px;max-width:650px;padding:var(--spacing-md) 0;background-color:var(--color-surface)}.full-width[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     mat-form-field.mat-mdc-form-field .mat-mdc-form-field-subscript-wrapper{display:none}[_nghost-%COMP%]     mat-form-field.mat-mdc-form-field .mat-mdc-text-field-wrapper{background-color:var(--color-surface)!important;border-radius:var(--radius-md)}[_nghost-%COMP%]     mat-form-field.mat-mdc-form-field .mat-mdc-form-field-focus-overlay{background-color:var(--color-primary-50)!important}[_nghost-%COMP%]     mat-form-field.mat-mdc-form-field .mat-mdc-floating-label{color:var(--color-text-secondary)!important}[_nghost-%COMP%]     mat-form-field.mat-mdc-form-field .mat-mdc-form-field-required-marker{color:var(--color-error)}[_nghost-%COMP%]     mat-form-field.mat-mdc-form-field .mat-mdc-input-element{color:var(--color-text-primary)!important;background-color:transparent!important}[_nghost-%COMP%]     mat-form-field.mat-mdc-form-field .mat-mdc-input-element::placeholder{color:var(--color-text-muted)!important;opacity:.7}[_nghost-%COMP%]     mat-dialog-content{max-height:500px;overflow-y:auto;background-color:var(--color-surface)!important;color:var(--color-text-primary)!important}[_nghost-%COMP%]     mat-dialog-actions{padding:var(--spacing-md) 0;gap:var(--spacing-sm);background-color:var(--color-surface)!important}[_nghost-%COMP%]     mat-dialog-actions button{border-radius:var(--radius-md);font-weight:500;padding:0 var(--spacing-lg)}[_nghost-%COMP%]     mat-dialog-actions button[mat-button]{color:var(--color-text-secondary)}[_nghost-%COMP%]     mat-dialog-actions button[mat-button]:hover{background-color:var(--color-surface-variant)}[_nghost-%COMP%]     mat-dialog-actions button[mat-raised-button]{background:var(--color-primary);color:#fff}[_nghost-%COMP%]     mat-dialog-actions button[mat-raised-button]:hover:not([disabled]){background:var(--color-primary-dark);transform:translateY(-1px);box-shadow:var(--shadow-md)}[_nghost-%COMP%]     mat-dialog-actions button[mat-raised-button][disabled]{background:var(--color-text-disabled)!important;color:#fff!important}[_nghost-%COMP%]     h2[mat-dialog-title]{color:var(--color-text-primary)!important;font-weight:600;margin:0 0 var(--spacing-md) 0;background-color:var(--color-surface)!important}[_nghost-%COMP%]     mat-error{color:var(--color-error)!important;font-size:.75rem;margin-top:var(--spacing-xs)}"]})};function He(i,t){if(i&1){let o=q();r(0,"div",22)(1,"div",23),a(2),e(),r(3,"div",23),a(4),e(),r(5,"div",23),a(6),e(),r(7,"div",24)(8,"button",25),g("click",function(){let l=v(o).$implicit,s=f(2);return _(s.editarHospede(l))}),r(9,"mat-icon"),a(10,"edit"),e()(),r(11,"button",26),g("click",function(){let l=v(o).$implicit,s=f(2);return _(s.excluirHospede(l))}),r(12,"mat-icon"),a(13,"delete"),e()()()()}if(i&2){let o=t.$implicit;m(2),h(o.nome),m(2),h(o.documento),m(2),h(o.telefone)}}function ke(i,t){if(i&1&&(j(0),r(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19),a(5,"NOME"),e(),r(6,"div",19),a(7,"DOC. (RG, CPF, PASSPORT, CNH)"),e(),r(8,"div",19),a(9,"TELEFONE"),e(),r(10,"div",19),a(11,"A\xC7\xD5ES"),e()()(),r(12,"div",20),u(13,He,14,3,"div",21),e()(),Y()),i&2){let o=t.ngIf;m(13),c("ngForOf",o)}}function Ie(i,t){i&1&&(r(0,"div",27),d(1,"mat-spinner"),e())}var _e=class i{hospedeService=p(ge);formBuilder=p(N);dialog=p(ce);notificationService=p(fe);hospedes$;searchForm;constructor(){this.searchForm=this.formBuilder.group({nome:[""],documento:[""],telefone:[""]})}ngOnInit(){this.hospedes$=this.hospedeService.getHospedes()}buscarHospedes(){let t=this.searchForm.value;this.hospedes$=this.hospedeService.getHospedes(t)}abrirFormularioNovoHospede(){this.dialog.open(M,{width:"600px",maxWidth:"90vw",data:{}}).afterClosed().subscribe(o=>{o&&this.hospedeService.createHospede(o).subscribe({next:()=>{this.buscarHospedes(),this.notificationService.showSuccess("H\xF3spede criado com sucesso!")},error:n=>{console.error("Erro ao criar h\xF3spede:",n)}})})}editarHospede(t){this.dialog.open(M,{width:"600px",maxWidth:"90vw",data:{hospede:t}}).afterClosed().subscribe(n=>{n&&this.hospedeService.updateHospede(n).subscribe({next:()=>{this.buscarHospedes(),this.notificationService.showSuccess("H\xF3spede atualizado com sucesso!")},error:l=>{console.error("Erro ao atualizar h\xF3spede:",l)}})})}excluirHospede(t){this.dialog.open(ve,{data:{message:`Tem certeza que deseja excluir o h\xF3spede "${t.nome}"?`}}).afterClosed().subscribe(n=>{n&&this.hospedeService.deleteHospede(t.id).subscribe({next:()=>{this.buscarHospedes(),this.notificationService.showSuccess("H\xF3spede exclu\xEDdo com sucesso!")},error:l=>{console.error("Erro ao excluir h\xF3spede:",l)}})})}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=O({type:i,selectors:[["app-hospede-list"]],standalone:!0,features:[P],decls:35,vars:5,consts:[["loading",""],[1,"hospedes-container"],[1,"page-header"],[1,"search-panel"],[3,"ngSubmit","formGroup"],[1,"toolbar-filters"],["appearance","outline"],["matInput","","formControlName","nome"],["matInput","","formControlName","documento"],["matInput","","formControlName","telefone"],[1,"toolbar-spacer"],["mat-flat-button","","color","primary","type","submit"],["mat-raised-button","","type","button",1,"novo-hospede",3,"click"],[1,"card-content"],[1,"table-container"],[4,"ngIf","ngIfElse"],[1,"custom-table"],[1,"table-header"],[1,"table-row","header-row"],[1,"table-cell","header-cell"],[1,"table-body"],["class","table-row data-row",4,"ngFor","ngForOf"],[1,"table-row","data-row"],[1,"table-cell","data-cell"],[1,"table-cell","data-cell","actions-cell"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Excluir",3,"click"],[2,"display","flex","justify-content","center","padding","40px"]],template:function(o,n){if(o&1){let l=q();r(0,"div",1)(1,"div",2)(2,"h2"),a(3,"Gerenciamento de H\xF3spedes"),e()(),r(4,"div",3)(5,"form",4),g("ngSubmit",function(){return v(l),_(n.buscarHospedes())}),r(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),a(9,"Nome"),e(),d(10,"input",7),e(),r(11,"mat-form-field",6)(12,"mat-label"),a(13,"Doc. (RG, CPF, Passport, CNH)"),e(),d(14,"input",8),e(),r(15,"mat-form-field",6)(16,"mat-label"),a(17,"Telefone"),e(),d(18,"input",9),e(),d(19,"span",10),r(20,"button",11)(21,"mat-icon"),a(22,"search"),e(),a(23," Pesquisar "),e(),r(24,"button",12),g("click",function(){return v(l),_(n.abrirFormularioNovoHospede())}),r(25,"mat-icon"),a(26,"add"),e(),a(27," Novo H\xF3spede "),e()()()(),r(28,"mat-card")(29,"mat-card-content",13)(30,"div",14),u(31,ke,14,1,"ng-container",15),W(32,"async"),u(33,Ie,2,0,"ng-template",null,0,K),e()()()()}if(o&2){let l=U(34);m(5),c("formGroup",n.searchForm),m(26),c("ngIf",J(32,3,n.hospedes$))("ngIfElse",l)}},dependencies:[y,Q,w,X,T,H,S,F,E,k,I,te,Z,ee,le,ie,ae,ne,$,A,re,G,L,D,V,R,he,be,B],styles:[".hospedes-container[_ngcontent-%COMP%]{padding:var(--spacing-lg);background-color:var(--color-background);min-height:100vh}.page-header[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl)}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:var(--color-text-primary);margin:0;font-family:var(--font-family-sans)}.search-panel[_ngcontent-%COMP%]{margin-bottom:var(--spacing-xl);background-color:var(--color-surface);padding:var(--spacing-lg);border-radius:var(--radius-lg);border:1px solid var(--color-border-light);box-shadow:var(--shadow-sm)}.toolbar-filters[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md);align-items:center;flex-wrap:wrap}.toolbar-filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:200px}.toolbar-filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%]{display:none}.toolbar-filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-floating-label[_ngcontent-%COMP%]{color:var(--color-text-secondary)}.toolbar-filters[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background-color:var(--color-primary-50)}.toolbar-spacer[_ngcontent-%COMP%]{flex:1}.novo-hospede[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-success) 0%,var(--color-success-light) 100%)!important;color:#fff!important;border-radius:var(--radius-md);padding:0 var(--spacing-lg);font-weight:500;transition:all .2s ease}.novo-hospede[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--color-success-dark) 0%,var(--color-success) 100%)!important;transform:translateY(-1px);box-shadow:var(--shadow-md)}.novo-hospede[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--spacing-xs)}button[type=submit][_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-primary) 0%,var(--color-primary-light) 100%);color:#fff;border-radius:var(--radius-md);padding:0 var(--spacing-lg);font-weight:500;transition:all .2s ease}button[type=submit][_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--color-primary-dark) 0%,var(--color-primary) 100%);transform:translateY(-1px);box-shadow:var(--shadow-md)}button[type=submit][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:var(--spacing-xs)}mat-card[_ngcontent-%COMP%]{background-color:var(--color-surface);border-radius:var(--radius-lg);border:1px solid var(--color-border-light);box-shadow:var(--shadow-sm);overflow:hidden;transition:box-shadow .2s ease-in-out}mat-card[_ngcontent-%COMP%]:hover{box-shadow:var(--shadow-md)}mat-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:0}.custom-table[_ngcontent-%COMP%]{width:100%}.custom-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--color-surface-variant) 0%,#f1f3f4 100%);border-bottom:2px solid var(--color-primary)}.custom-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1.5fr 1.5fr 2fr;gap:var(--spacing-md);padding:var(--spacing-md) var(--spacing-lg);align-items:center}.custom-table[_ngcontent-%COMP%]   .table-row.data-row[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-border-light);transition:all .2s ease}.custom-table[_ngcontent-%COMP%]   .table-row.data-row[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#007bff05,#007bff0d);transform:translate(2px);border-left:3px solid var(--color-primary)}.custom-table[_ngcontent-%COMP%]   .table-cell.header-cell[_ngcontent-%COMP%]{color:var(--color-text-primary);font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px}.custom-table[_ngcontent-%COMP%]   .table-cell.data-cell[_ngcontent-%COMP%]{color:var(--color-text-secondary);font-size:.875rem}.custom-table[_ngcontent-%COMP%]   .table-cell.data-cell[_ngcontent-%COMP%]:first-child{color:var(--color-text-primary);font-weight:500}.custom-table[_ngcontent-%COMP%]   .table-cell.actions-cell[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-xs);justify-content:flex-start;align-items:center}.custom-table[_ngcontent-%COMP%]   .table-cell.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:36px;height:36px;border-radius:var(--radius-md);transition:all .2s ease}.custom-table[_ngcontent-%COMP%]   .table-cell.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:var(--shadow-sm)}.custom-table[_ngcontent-%COMP%]   .table-cell.actions-cell[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]{background-color:#007bff1a;color:var(--color-primary)}.custom-table[_ngcontent-%COMP%]   .table-cell.actions-cell[_ngcontent-%COMP%]   button[color=primary][_ngcontent-%COMP%]:hover{background-color:#007bff33}.custom-table[_ngcontent-%COMP%]   .table-cell.actions-cell[_ngcontent-%COMP%]   button[color=warn][_ngcontent-%COMP%]{background-color:#dc35451a;color:var(--color-error)}.custom-table[_ngcontent-%COMP%]   .table-cell.actions-cell[_ngcontent-%COMP%]   button[color=warn][_ngcontent-%COMP%]:hover{background-color:#dc354533}.custom-table[_ngcontent-%COMP%]   .table-cell.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.table-container[_ngcontent-%COMP%]{overflow-x:auto;min-height:200px}"]})};export{_e as HospedeListComponent};
